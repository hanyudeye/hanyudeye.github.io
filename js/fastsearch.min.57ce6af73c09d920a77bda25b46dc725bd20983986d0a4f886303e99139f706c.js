var fuse,searchVisible=!1,firstRun=!0,list=document.getElementById("searchResults"),first=list.firstChild,last=list.lastChild,maininput=document.getElementById("searchInput"),resultsAvailable=!1;document.addEventListener("keydown",function(e){e.metaKey&&e.key==="/"&&(firstRun&&(loadSearch(),firstRun=!1),searchVisible?(document.getElementById("fastSearch").style.visibility="hidden",document.activeElement.blur(),searchVisible=!1):(document.getElementById("fastSearch").style.visibility="visible",document.getElementById("searchInput").focus(),searchVisible=!0)),e.key=="Escape"&&searchVisible&&(document.getElementById("fastSearch").style.visibility="hidden",document.activeElement.blur(),searchVisible=!1),e.key=="ArrowDown"&&searchVisible&&resultsAvailable&&(e.preventDefault(),document.activeElement==maininput?first.focus():document.activeElement==last?last.focus():document.activeElement.parentElement.nextSibling.firstElementChild.focus()),e.key=="ArrowUp"&&searchVisible&&resultsAvailable&&(e.preventDefault(),document.activeElement==maininput?maininput.focus():document.activeElement==first?maininput.focus():document.activeElement.parentElement.previousSibling.firstElementChild.focus())}),document.getElementById("searchInput").onkeyup=function(){executeSearch(this.value)};function fetchJSONFile(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4&&n.status===200){var e=JSON.parse(n.responseText);t&&t(e)}},n.open("GET",e),n.send()}function loadSearch(){fetchJSONFile("/index.json",function(e){var t={shouldSort:!0,location:0,distance:100,threshold:.4,minMatchCharLength:2,keys:["title","permalink","summary"]};fuse=new Fuse(e,t)})}function executeSearch(e){let t=fuse.search(e),n="";if(t.length===0)resultsAvailable=!1,n="";else{for(let e in t.slice(0,5))n=n+'<li><a href="'+t[e].permalink+'" tabindex="0"><span class="title">'+t[e].title+'</span><br /> <span class="sc">'+t[e].tags+"</span> — "+t[e].categories+" — <em>"+t[e].contents.slice(0,30)+"</em></a></li>";resultsAvailable=!0}document.getElementById("searchResults").innerHTML=n,t.length>0&&(first=list.firstChild.firstElementChild,last=list.lastChild.firstElementChild)}